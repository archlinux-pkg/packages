# Maintainer: MedzikUser <nivua1fn@duck.com>
_repo='qwertyquerty/pypresence'
_ver=4.2.1
_auto_update=true

_pkgname='pypresence'
pkgname="python-${_pkgname}"
pkgver=4.2.1
pkgrel=2
pkgdesc='Discord RPC and Rich Presence wrapper library'
arch=('any')
url="https://github.com/${_repo}"
license=('BSD')

depends=('python')
makedepends=('git' 'python-setuptools')

source=("${_pkgname}::git+${url}#tag=${_ver}")
sha256sums=('SKIP')

build() {
  cd "${_pkgname}"
  python setup.py build
}

package() {
  cd "${_pkgname}"

  PYTHONHASHSEED=0 python setup.py install --root="${pkgdir}" --prefix="/usr" --optimize=1 --skip-build
  install -Dm 644 LICENSE "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
}
