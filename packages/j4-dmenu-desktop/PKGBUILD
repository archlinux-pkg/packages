# Maintainer: MedzikUser
_repo='enkore/j4-dmenu-desktop'
_ver=r2.18
_auto_update=true

_pkgname='j4-dmenu-desktop'
pkgname="${_pkgname}"
pkgver=2.18
pkgrel=2
pkgdesc='A much faster replacement for i3-dmenu-desktop. Its purpose is to find .desktop files and offer you a menu to start an application using dmenu'
arch=('x86_64')
url="https://github.com/${_repo}"
license=('GPL3')

optdepends=(
  'dmenu: install for the default backend'
  'bemenu: an alternative backend'
)
makedepends=('git' 'cmake')

source=("${_pkgname}::git+${url}#tag=${_ver}")
sha256sums=('SKIP')

build() {
  mkdir "${_pkgname}/build"
  cd "${_pkgname}/build"

  cmake \
    -DCMAKE_INSTALL_PREFIX='/usr' \
    ..

  make
}

package() {
  cd "${_pkgname}/build"
  make DESTDIR="${pkgdir}/" install
}
